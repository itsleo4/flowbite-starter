<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Home</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="theme-toggle">ðŸŒž</button>

  <div id="navbar">
    <span id="user-email"></span>
    <button id="logoutBtn" style="display: none;">Logout</button>
    <a id="loginLink" href="login.html">Login</a>
    <a id="registerLink" href="register.html">Register</a>
  </div>

  <h1>Welcome to Luxflix</h1>

  <script type="module">
    import { logoutUser, authListener } from './auth.js';

    const logoutBtn = document.getElementById('logoutBtn');
    const userEmail = document.getElementById('user-email');
    const loginLink = document.getElementById('loginLink');
    const registerLink = document.getElementById('registerLink');

    authListener((user) => {
      if (user) {
        userEmail.innerText = `ðŸ‘‹ ${user.email}`;
        logoutBtn.style.display = 'inline-block';
        loginLink.style.display = 'none';
        registerLink.style.display = 'none';
      } else {
        userEmail.innerText = '';
        logoutBtn.style.display = 'none';
        loginLink.style.display = 'inline-block';
        registerLink.style.display = 'inline-block';
      }
    });

    logoutBtn.onclick = async () => {
      await logoutUser();
    };
  </script>
  <script src="theme-toggle.js"></script>
</body>
</html>
